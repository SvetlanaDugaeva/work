
---
# Front matter
lang: "ru"
title: "Лабораторная работа №2"
subtitle: "Дискреционное разграничение прав в Linux. Основные атрибуты"
author: "Дугаева Светлана Анатольевна"

# Formatting
toc-title: "Содержание"
toc: true # Table of contents
toc_depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: Fira Code
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: xelatex
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Получение практических навыков работы в консоли с атрибутами файлов, закрепление теоретических основ дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.

# Выполнение лабораторной работы
1. В установленной при выполнении предыдущей лабораторной работы операционной системе создала учётную запись пользователя guest(рис. -@fig:001)

![Создание учетной записи](images/1.PNG){ #fig:001 }

2. Задала пароль для пользователя guest (рис. -@fig:002)

![Задание пароля](images/2.PNG){ #fig:002 }

3. Вошла в систему от имени пользователя guest.

4. Определила директорию, в которой я нахожусь, командой pwd. Она является домашней (рис. -@fig:003)

![Опредение директории](images/3.PNG){ #fig:003 }

5. Уточнила имя пользователя командой whoami (рис. -@fig:004)

![Команда whoami](images/4.PNG){ #fig:004 }

6. Уточнила имя пользователя, его группу, а также группы, куда входит пользователь, командой id (рис. -@fig:005)

![Команды id и groups](images/5.PNG){ #fig:005 }

uid=501, gid=501.
Команда groups выводит только названии группы, в которой состоит данный пользователь, а команда id выводит еще и id пользователя и группы, а так же данные о группах, в которых он состоит.

7. Полученная информация об имени пользователя совпадает с данными, выводимыми в приглашении командной строки. 

8. Посмотрю файл etc/passwd командой cat /etc/passwd | grep guest (рис. -@fig:006)

![Просмотр файла etc/passwd](images/6.PNG){ #fig:006 }

uid=501, gid=501, эти значения совпадают с тем, что мы получили в пункте 6.

9. Определю существующие директории (рис. -@fig:007)

![Директории](images/7.PNG){ #fig:007 }

Доступ был получен. У создателя директории есть права на чтение, выполнение и запись файлов в директории. У остальных пользователей(в том числе пользователей групп никаких прав нет. 

10. Проверила какие расширенные атрибуты установленны на поддиректориях как текущего так и других пользователей (рис. -@fig:008)

![Проверка расширенных атрибутов](images/8.PNG){ #fig:008 }

Значит, мы можем использовать extent'ы блоков для хранения файла.

11. Создала в домашней директории поддиректорию dirl (рис. -@fig:009)

![Создание поддиректории](images/9.PNG){ #fig:009 }

Определила права доступа (рис. -@fig:010)

![Права доступа](images/10.PNG){ #fig:010 }

У всех пользователей есть права на чтение и выполнение, но только у создателя есть права на запись.
 
Проверила расширенные атрибуты (рис. -@fig:011)

![Расширенные атрибуты](images/11.PNG){ #fig:011 }

Аналогично предыдущему пункту.

12. Сняла с директории dirl все атрибуты и проверила правильность выполнения (рис. -@fig:012)

![Снятие всех атрибутов](images/12.PNG){ #fig:012 }

13. Создать файл в директории не удалось. Отказ в доступе был получен потому, что мы сняли все атрибуты с директории dirl. Файл не был создан. Просмотреть содержимое директории также не удалось в связи с той же причиной (рис. -@fig:013)

![Попытка создания файла и просмотр содержимого директории](images/13.PNG){ #fig:013 }

14. Заполнила таблицу "Установленные права и разрешенные действия". Все данные были определены опытным путем(присутствует в записи выполнения). Если операция разрешена - в таблице стоит "+", если операция не разрешена - в таблице стоит "-" (таб. 1)

|Права директории|Права файла|Создание файла|Удаление файла|Запись в файл|Чтение файла|Смена директории|Просмотр файлов в директории|Переименование файла|Смена атрибутов файла|
|----------------|-----------|--------------|--------------|-------------|------------|----------------|----------------------------|--------------------|---------------------|
|d(000)          |(000)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(100)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(200)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(300)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(400)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(500)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(600)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(000)          |(700)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(100)          |(000)      |-             |-             |-            |-           |+               |-                           |-                   |+                    |
|d(100)          |(100)      |-             |-             |-            |-           |+               |-                           |-                   |+                    |
|d(100)          |(200)      |-             |-             |+            |-           |+               |-                           |-                   |+                    |
|d(100)          |(300)      |-             |-             |+            |-           |+               |-                           |-                   |+                    |
|d(100)          |(400)      |-             |-             |-            |+           |+               |-                           |-                   |+                    |
|d(100)          |(500)      |-             |-             |-            |+           |+               |-                           |-                   |+                    |
|d(100)          |(600)      |-             |-             |+            |+           |+               |-                           |-                   |+                    |
|d(100)          |(700)      |-             |-             |+            |+           |+               |-                           |-                   |+                    |
|d(200)          |(000)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(100)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(200)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(300)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(400)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(500)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(600)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(200)          |(700)      |-             |-             |-            |-           |-               |-                           |-                   |-                    |
|d(300)          |(000)      |+             |+             |-            |-           |+               |-                           |+                   |+                    |
|d(300)          |(100)      |+             |+             |-            |-           |+               |-                           |+                   |+                    |
|d(300)          |(200)      |+             |+             |+            |-           |+               |-                           |+                   |+                    |
|d(300)          |(300)      |+             |+             |+            |-           |+               |-                           |+                   |+                    |
|d(300)          |(400)      |+             |+             |-            |+           |+               |-                           |+                   |+                    |
|d(300)          |(500)      |+             |+             |-            |+           |+               |-                           |+                   |+                    |
|d(300)          |(600)      |+             |+             |+            |+           |+               |-                           |+                   |-                    |
|d(300)          |(700)      |+             |+             |+            |+           |+               |-                           |+                   |-                    |
|d(400)          |(000)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(100)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(200)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(300)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(400)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(500)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(600)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(400)          |(700)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(500)          |(000)      |-             |-             |-            |-           |+               |+                           |-                   |+                    |
|d(500)          |(100)      |-             |-             |-            |-           |+               |+                           |-                   |+                    |
|d(500)          |(200)      |-             |-             |+            |-           |+               |+                           |-                   |+                    |
|d(500)          |(300)      |-             |-             |+            |-           |+               |+                           |-                   |+                    |
|d(500)          |(400)      |-             |-             |-            |+           |+               |+                           |-                   |+                    |
|d(500)          |(500)      |-             |-             |-            |+           |+               |+                           |-                   |+                    |
|d(500)          |(600)      |-             |-             |+            |+           |+               |+                           |-                   |+                    |
|d(500)          |(700)      |-             |-             |+            |+           |+               |+                           |-                   |+                    |
|d(600)          |(000)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(100)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(200)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(300)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(400)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(500)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(600)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(600)          |(700)      |-             |-             |-            |-           |-               |+                           |-                   |-                    |
|d(700)          |(000)      |+             |+             |-            |-           |+               |+                           |+                   |+                    |
|d(700)          |(100)      |+             |+             |-            |-           |+               |+                           |+                   |+                    |
|d(700)          |(200)      |+             |+             |+            |-           |+               |+                           |+                   |+                    |
|d(700)          |(300)      |+             |+             |+            |-           |+               |+                           |+                   |+                    |
|d(700)          |(400)      |+             |+             |-            |+           |+               |+                           |+                   |+                    |
|d(700)          |(500)      |+             |+             |-            |+           |+               |+                           |+                   |+                    |
|d(700)          |(600)      |+             |+             |+            |+           |+               |+                           |+                   |+                    |
|d(700)          |(700)      |+             |+             |+            |+           |+               |+                           |+                   |+                    |

: Установленные права и разрешенные действия

15. На основании заполненной таблицы 1 определила те или иные минимально необходимые права для выполнения операций внутри директории dirl. Заполнила таблицу "Минимальные права для совершения операций" (таб. 2)

|Операция              |min права на директорию|min права на файл|
|----------------------|-----------------------|-----------------|
|Создание файла        |(d-wx------)(300)      |(----------)(000)|
|Удаление файла        |(d-wx------)(300)      |(----------)(000)|
|Чтение файла          |(d--x------)(100)      |(r---------)(400)|
|Запись в файл         |(d--x------)(100)      |(-w--------)(200)|
|Переименование файла  |(d-wx------)(300)      |(----------)(000)|
|Создание поддиректории|(d-wx------)(300)      |(----------)(000)|
|Удаление поддиректории|(d-wx------)(300)      |(----------)(000)|

# Выводы
Получила практические навыки работы в консоли с атрибутами файлов, закрепила теоретические основы дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.